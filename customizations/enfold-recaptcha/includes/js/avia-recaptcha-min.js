var aviaRecaptchaWidgets=[];aviaRecaptchaAlert=function(e){e.addEventListener("click",function(){event.target.classList.contains("avia-recaptcha-disabled")&&alert("Are you human? Verify with reCAPTCHA first.")})},aviaRecaptchaSetTokenName=function(e){var t=e.getElementsByTagName("input");t[0].getAttribute("value");t[0].setAttribute("name","avia_recaptcha")},aviaRecaptchaDetectHuman=function(t,a){document.body.addEventListener("mousemove",function(e){t.setAttribute("action",a)},!1),document.body.addEventListener("touchmove",function(e){t.setAttribute("action",a)},!1),document.body.addEventListener("keydown",function(e){9!==e.keyCode&&13!==e.keyCode||t.setAttribute("action",a)},!1)};var aviaRecaptchaNotice=function(e,t){var a=document.createElement("p"),c=document.createTextNode(t);a.appendChild(c),a.classList.add("g-recaptcha-notice"),e.parentNode.insertBefore(a,e)},aviaRecaptchaPlaceholder=function(e){var t=document.createElement("p");t.classList.add("g-recaptcha-widget"),e.parentNode.insertBefore(t,e)},aviaRecaptchaRender=function(){for(var e=document.getElementsByTagName("form"),t=0;t<e.length;t++){var a=e[t].getAttribute("action");if(e[t].removeAttribute("action"),e[t].classList&&e[t].classList.contains("avia-form-recaptcha")){var c=e[t].querySelector('input[type="submit"]'),i=c.getAttribute("data-sitekey"),n=c.getAttribute("data-notice"),r=c.getAttribute("data-size"),o=c.getAttribute("data-theme"),d=c.getAttribute("data-tabindex"),u=c.getAttribute("data-callback"),s=c.getAttribute("data-expired-callback");c.classList.add("avia-recaptcha-disabled"),aviaRecaptchaSetTokenName(e[t]),aviaRecaptchaPlaceholder(c),aviaRecaptchaNotice(c,aviaRecaptchaTextDecode(n)),aviaRecaptchaDetectHuman(e[t],a),aviaRecaptchaAlert(c);var p={sitekey:i,size:r,theme:o,tabindex:d},l=e[t].querySelector(".g-recaptcha-widget");u&&"function"==typeof window[u]&&(p.callback=window[u]),s&&"function"==typeof window[s]&&(p["expired-callback"]=window[s]);var v=grecaptcha.render(l,p);c.setAttribute("data-button-index",v),aviaRecaptchaWidgets.push(v)}}},aviaRecaptchaSuccess=function(e){e&&aviaRecaptchaVerify(e)},aviaRecaptchaVerify=function(e){e&&jQuery.ajax({type:"POST",url:avia_framework_globals.ajaxurl,data:{g_recaptcha_token:e,wp_nonce:avia_recaptcha.nonce,action:"avia_ajax_recaptcha_verify"},success:function(e){if(0!=e){for(var t=document.getElementsByClassName("g-recaptcha-notice"),a=document.getElementsByClassName("g-recaptcha-widget"),c=document.querySelectorAll('input[type="submit"]'),i=0;i<c.length;i++)c[i].removeAttribute("disabled"),c[i].classList.remove("avia-recaptcha-disabled");for(i=0;i<t.length;i++)t[i].remove();for(i=0;i<a.length;i++)a[i].remove()}},error:function(){},complete:function(){}})},aviaRecaptchaTextDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))};